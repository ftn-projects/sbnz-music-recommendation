-- cleanup (FK-safe, adjust names if yours differ)
DELETE FROM profile_traits;
DELETE FROM trait_genres;
DELETE FROM profiles;
DELETE FROM traits;
DELETE FROM genres;

-- Genres
INSERT INTO genres (id, name) VALUES
                                  ('20000000-0000-0000-0000-000000000001','Lo-Fi'),
                                  ('20000000-0000-0000-0000-000000000002','Jazz'),
                                  ('20000000-0000-0000-0000-000000000003','Ambient'),
                                  ('20000000-0000-0000-0000-000000000004','Classical'),
                                  ('20000000-0000-0000-0000-000000000006','Hip Hop'),
                                  ('20000000-0000-0000-0000-000000000007','Electronic'),
                                  ('20000000-0000-0000-0000-000000000008','Rock'),
                                  ('20000000-0000-0000-0000-000000000009','Metal'),
                                  ('20000000-0000-0000-0000-000000000010','Downtempo'),
                                  ('20000000-0000-0000-0000-000000000012','House');

-- Traits (now with parent_id to form chains)
-- Roots
INSERT INTO traits (id, name, parent_id) VALUES
                                             ('30000000-0000-0000-0000-000000000001','Focus',               NULL),
                                             ('30000000-0000-0000-0000-000000000008','Laid Back',           NULL),
                                             ('30000000-0000-0000-0000-000000000012','Workout Core',        NULL),
                                             ('30000000-0000-0000-0000-000000000015','Noisy',               NULL),
                                             ('30000000-0000-0000-0000-000000000016','Deep Relaxation',     NULL),
                                             ('30000000-0000-0000-0000-000000000020','Club Orientation',    NULL),
                                             ('30000000-0000-0000-0000-000000000025','Conflicting Core',    NULL),
                                             ('30000000-0000-0000-0000-000000000014','Rock Friendly',       NULL); -- positive genre mapping

-- Focus branch
INSERT INTO traits (id, name, parent_id) VALUES
                                             ('30000000-0000-0000-0000-000000000006','Study Core',  '30000000-0000-0000-0000-000000000001'),
                                             ('30000000-0000-0000-0000-000000000002','Calm',        '30000000-0000-0000-0000-000000000001'),
                                             ('30000000-0000-0000-0000-000000000004','Instrumental','30000000-0000-0000-0000-000000000006'),
                                             ('30000000-0000-0000-0000-000000000003','Low Energy',  '30000000-0000-0000-0000-000000000006'),
                                             ('30000000-0000-0000-0000-000000000005','Warm Timbre', '30000000-0000-0000-0000-000000000006');

-- Chill branch
INSERT INTO traits (id, name, parent_id) VALUES
                                             ('30000000-0000-0000-0000-000000000007','Groove',          '30000000-0000-0000-0000-000000000008'),
                                             ('30000000-0000-0000-0000-000000000009','Vinyl Aesthetic', '30000000-0000-0000-0000-000000000008');

-- Workout branch
INSERT INTO traits (id, name, parent_id) VALUES
                                             ('30000000-0000-0000-0000-000000000010','High Energy', '30000000-0000-0000-0000-000000000012'),
                                             ('30000000-0000-0000-0000-000000000011','Aggressive',  '30000000-0000-0000-0000-000000000010');

-- Deep chain
INSERT INTO traits (id, name, parent_id) VALUES
                                             ('30000000-0000-0000-0000-000000000017','Slow BPM',   '30000000-0000-0000-0000-000000000016'),
                                             ('30000000-0000-0000-0000-000000000018','Textural',   '30000000-0000-0000-0000-000000000017'),
                                             ('30000000-0000-0000-0000-000000000019','Drone',      '30000000-0000-0000-0000-000000000018');

-- Club branch
INSERT INTO traits (id, name, parent_id) VALUES
                                             ('30000000-0000-0000-0000-000000000021','Four-on-the-Floor', '30000000-0000-0000-0000-000000000020'),
                                             ('30000000-0000-0000-0000-000000000022','Synth-forward',     '30000000-0000-0000-0000-000000000020');

-- Trait → Genre mappings (influence)
INSERT INTO trait_genres (trait_id, genre_id) VALUES
                                                             -- Focus / study leaf mappings
                                                             ('30000000-0000-0000-0000-000000000004','20000000-0000-0000-0000-000000000004'), -- Instrumental -> Classical
                                                             ('30000000-0000-0000-0000-000000000003','20000000-0000-0000-0000-000000000003'), -- Low Energy -> Ambient
                                                             ('30000000-0000-0000-0000-000000000005','20000000-0000-0000-0000-000000000001'), -- Warm Timbre -> Lo-Fi
                                                             ('30000000-0000-0000-0000-000000000002','20000000-0000-0000-0000-000000000002'), -- Calm -> Jazz
                                                             ('30000000-0000-0000-0000-000000000006','20000000-0000-0000-0000-000000000001'), -- Study Core -> Lo-Fi

                                                             -- Chill
                                                             ('30000000-0000-0000-0000-000000000008','20000000-0000-0000-0000-000000000010'), -- Laid Back -> Downtempo
                                                             ('30000000-0000-0000-0000-000000000007','20000000-0000-0000-0000-000000000006'), -- Groove -> Hip Hop
                                                             ('30000000-0000-0000-0000-000000000009','20000000-0000-0000-0000-000000000001'), -- Vinyl Aesthetic -> Lo-Fi

                                                             -- Workout
                                                             ('30000000-0000-0000-0000-000000000012','20000000-0000-0000-0000-000000000008'), -- Workout Core -> Rock
                                                             ('30000000-0000-0000-0000-000000000010','20000000-0000-0000-0000-000000000007'), -- High Energy -> Electronic
                                                             ('30000000-0000-0000-0000-000000000011','20000000-0000-0000-0000-000000000009'), -- Aggressive -> Metal

                                                             -- Preferences / avoiders
                                                             ('30000000-0000-0000-0000-000000000014','20000000-0000-0000-0000-000000000008'), -- Rock Friendly -> Rock

                                                             -- Deep chain to ambient / classical
                                                             ('30000000-0000-0000-0000-000000000017','20000000-0000-0000-0000-000000000003'), -- Slow BPM -> Ambient
                                                             ('30000000-0000-0000-0000-000000000018','20000000-0000-0000-0000-000000000003'), -- Textural -> Ambient
                                                             ('30000000-0000-0000-0000-000000000019','20000000-0000-0000-0000-000000000003'), -- Drone -> Ambient
                                                             ('30000000-0000-0000-0000-000000000016','20000000-0000-0000-0000-000000000004'), -- Deep Relaxation -> Classical

                                                             -- Club
                                                             ('30000000-0000-0000-0000-000000000021','20000000-0000-0000-0000-000000000012'), -- Four-on-the-Floor -> House
                                                             ('30000000-0000-0000-0000-000000000022','20000000-0000-0000-0000-000000000007'); -- Synth-forward -> Electronic

-- Profiles
INSERT INTO profiles (id, name) VALUES
                                    ('10000000-0000-0000-0000-000000000001','Focused Study'),
                                    ('10000000-0000-0000-0000-000000000002','Chill Lo-Fi'),
                                    ('10000000-0000-0000-0000-000000000003','Workout'),
                                    ('10000000-0000-0000-0000-000000000004','Mixed Conflicting'),
                                    ('10000000-0000-0000-0000-000000000005','Sparse/Noisy'),
                                    ('10000000-0000-0000-0000-000000000006','Deep Chain Relax'),
                                    ('10000000-0000-0000-0000-000000000008','Club Mode');

-- Profile → entry traits
INSERT INTO profile_traits (profile_id, trait_id) VALUES
                                                      -- Focused Study: just attach the root "Focus" and a negative preference
                                                      ('10000000-0000-0000-0000-000000000001','30000000-0000-0000-0000-000000000001'), -- Focus

                                                      -- Chill Lo-Fi
                                                      ('10000000-0000-0000-0000-000000000002','30000000-0000-0000-0000-000000000008'), -- Laid Back

                                                      -- Workout
                                                      ('10000000-0000-0000-0000-000000000003','30000000-0000-0000-0000-000000000012'), -- Workout Core

                                                      -- Mixed Conflicting: one positive to Rock, no direct Rock-suppressor (you can add if desired)
                                                      ('10000000-0000-0000-0000-000000000004','30000000-0000-0000-0000-000000000014'),

                                                      -- Sparse/Noisy: no mapped genres
                                                      ('10000000-0000-0000-0000-000000000005','30000000-0000-0000-0000-000000000015'),

                                                      -- Deep Chain Relax
                                                      ('10000000-0000-0000-0000-000000000006','30000000-0000-0000-0000-000000000016'),

                                                      -- Club Mode
                                                      ('10000000-0000-0000-0000-000000000008','30000000-0000-0000-0000-000000000020');

COMMIT;
